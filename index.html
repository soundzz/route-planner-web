<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin=""/>
         <!-- Make sure you put this AFTER Leaflet's CSS -->
        <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
        integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
        crossorigin=""></script>
        
        <style>
            #germanymap {height:90vh;}
        </style>
 <title>Routenplaner</title>
    </head>
    <body>
        <div id="germanymap"></div>
        <p>Click location: <span id= "latitude">latitude</span> | <span id="longitude">longitude</span></p> 
    </body>

    <script>
        var nextLoc = 0;
        var startLoc = {latitude, longitude};
        var endLoc = {latitude, longitude};
        var mymap = L.map("germanymap");
        var osmURL='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';
        var osmAttrib='Map data &copy <a href="https://openstreetmap.org">OpenStreetMap</a> contributors';
        var osm = new L.tileLayer(osmURL, {minZoom:7, maxZoom: 19, attribution: osmAttrib});
        mymap.setView(new L.LatLng(48.805, 9.188), 9);
        osm.addTo(mymap)

        function onMapClick(e){
            document.getElementById("latitude").textContent=e.latlng.lat;
            document.getElementById("longitude").textContent=e.latlng.lng;

            if(nextLoc == 0){
                endLoc = {};
                startLoc = e.latlng;
                nextLoc = 1
            }else if(nextLoc == 1){
                endLoc = e.latlng;
                nextLoc = 0;
                //TODO: server request
            }
            console.log(startLoc, endLoc);
        }
        mymap.on('click', onMapClick);

        /*var coords = [
            [48.748, 9.064],
            [48.875, 9.042],
            [48.759, 9.000],
            [48.950, 9.100]
        ]
        var polyline = L.polyline(coords, {color: 'blue'}).addTo(mymap);
        mymap.fitBounds(polyline.getBounds());
        */
        </script>
    
</html>